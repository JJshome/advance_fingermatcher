<svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="300" fill="url(#bg)" rx="10"/>
  
  <!-- Title -->
  <text x="300" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">
    Enhanced Bozorth3 Algorithm Workflow
  </text>
  
  <!-- Step 1: Image Input -->
  <g transform="translate(30, 60)">
    <rect width="80" height="60" rx="5" fill="#4285f4" filter="url(#shadow)"/>
    <text x="40" y="35" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white" font-weight="bold">
      Image Input
    </text>
    <g transform="translate(20, 45)">
      <!-- Simple fingerprint representation -->
      <circle cx="20" cy="8" r="15" fill="none" stroke="white" stroke-width="1"/>
      <path d="M20 3 C15 3, 10 8, 10 13 C10 18, 15 23, 20 23 C25 23, 30 18, 30 13 C30 8, 25 3, 20 3" 
            fill="none" stroke="white" stroke-width="1"/>
    </g>
    
    <animateTransform attributeName="transform" 
                      type="translate" 
                      values="30,60; 30,55; 30,60" 
                      dur="2s" 
                      repeatCount="indefinite"/>
  </g>
  
  <!-- Arrow 1 -->
  <path d="M130 90 L150 90" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: Minutiae Detection -->
  <g transform="translate(170, 60)">
    <rect width="80" height="60" rx="5" fill="#34a853" filter="url(#shadow)"/>
    <text x="40" y="25" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">
      Minutiae
    </text>
    <text x="40" y="40" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">
      Detection
    </text>
    
    <!-- Animated minutiae points -->
    <circle cx="25" cy="50" r="2" fill="#FFD700">
      <animate attributeName="r" values="1;3;1" dur="1.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="40" cy="48" r="2" fill="#FFD700">
      <animate attributeName="r" values="1;3;1" dur="1.5s" begin="0.3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="55" cy="52" r="2" fill="#FFD700">
      <animate attributeName="r" values="1;3;1" dur="1.5s" begin="0.6s" repeatCount="indefinite"/>
    </circle>
  </g>
  
  <!-- Arrow 2 -->
  <path d="M270 90 L290 90" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3: Descriptor Calculation -->
  <g transform="translate(310, 60)">
    <rect width="80" height="60" rx="5" fill="#fbbc04" filter="url(#shadow)"/>
    <text x="40" y="25" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">
      Descriptor
    </text>
    <text x="40" y="40" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">
      Calculation
    </text>
    
    <!-- Animated data flow -->
    <g>
      <rect x="15" y="48" width="8" height="2" fill="white" opacity="0">
        <animate attributeName="opacity" values="0;1;0" dur="2s" repeatCount="indefinite"/>
      </rect>
      <rect x="27" y="48" width="8" height="2" fill="white" opacity="0">
        <animate attributeName="opacity" values="0;1;0" dur="2s" begin="0.2s" repeatCount="indefinite"/>
      </rect>
      <rect x="39" y="48" width="8" height="2" fill="white" opacity="0">
        <animate attributeName="opacity" values="0;1;0" dur="2s" begin="0.4s" repeatCount="indefinite"/>
      </rect>
      <rect x="51" y="48" width="8" height="2" fill="white" opacity="0">
        <animate attributeName="opacity" values="0;1;0" dur="2s" begin="0.6s" repeatCount="indefinite"/>
      </rect>
    </g>
  </g>
  
  <!-- Arrow 3 -->
  <path d="M410 90 L430 90" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 4: Enhanced Matching -->
  <g transform="translate(450, 60)">
    <rect width="80" height="60" rx="5" fill="#ea4335" filter="url(#shadow)"/>
    <text x="40" y="25" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">
      Enhanced
    </text>
    <text x="40" y="40" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">
      Matching
    </text>
    
    <!-- Animated matching visualization -->
    <g transform="translate(20, 45)">
      <circle cx="15" cy="8" r="3" fill="white" opacity="0.7"/>
      <circle cx="25" cy="8" r="3" fill="white" opacity="0.7"/>
      <line x1="15" y1="8" x2="25" y2="8" stroke="white" stroke-width="1" opacity="0">
        <animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite"/>
      </line>
    </g>
  </g>
  
  <!-- Enhanced features section -->
  <g transform="translate(50, 160)">
    <text x="0" y="20" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">
      Key Enhancements:
    </text>
    
    <!-- Feature 1 -->
    <g transform="translate(0, 35)">
      <circle cx="8" cy="8" r="6" fill="#4285f4">
        <animate attributeName="fill" values="#4285f4;#34a853;#4285f4" dur="3s" repeatCount="indefinite"/>
      </circle>
      <text x="20" y="12" font-family="Arial, sans-serif" font-size="12" fill="#333">
        Rich Minutiae Descriptors
      </text>
    </g>
    
    <!-- Feature 2 -->
    <g transform="translate(0, 55)">
      <circle cx="8" cy="8" r="6" fill="#34a853">
        <animate attributeName="fill" values="#34a853;#fbbc04;#34a853" dur="3s" begin="1s" repeatCount="indefinite"/>
      </circle>
      <text x="20" y="12" font-family="Arial, sans-serif" font-size="12" fill="#333">
        Adaptive Tolerance Calculation
      </text>
    </g>
    
    <!-- Feature 3 -->
    <g transform="translate(0, 75)">
      <circle cx="8" cy="8" r="6" fill="#fbbc04">
        <animate attributeName="fill" values="#fbbc04;#ea4335;#fbbc04" dur="3s" begin="2s" repeatCount="indefinite"/>
      </circle>
      <text x="20" y="12" font-family="Arial, sans-serif" font-size="12" fill="#333">
        Quality-Weighted Scoring
      </text>
    </g>
  </g>
  
  <!-- Performance metrics -->
  <g transform="translate(350, 160)">
    <text x="0" y="20" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">
      Performance Improvements:
    </text>
    
    <!-- Accuracy bar -->
    <g transform="translate(0, 35)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">Accuracy:</text>
      <rect x="60" y="5" width="100" height="10" rx="5" fill="#e0e0e0"/>
      <rect x="60" y="5" width="0" height="10" rx="5" fill="#4caf50">
        <animate attributeName="width" values="0;85;0" dur="4s" repeatCount="indefinite"/>
      </rect>
      <text x="170" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">+20%</text>
    </g>
    
    <!-- Speed bar -->
    <g transform="translate(0, 55)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">Speed:</text>
      <rect x="60" y="5" width="100" height="10" rx="5" fill="#e0e0e0"/>
      <rect x="60" y="5" width="0" height="10" rx="5" fill="#2196f3">
        <animate attributeName="width" values="0;75;0" dur="4s" begin="1s" repeatCount="indefinite"/>
      </rect>
      <text x="170" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">+15%</text>
    </g>
    
    <!-- Robustness bar -->
    <g transform="translate(0, 75)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">Robustness:</text>
      <rect x="60" y="5" width="100" height="10" rx="5" fill="#e0e0e0"/>
      <rect x="60" y="5" width="0" height="10" rx="5" fill="#ff9800">
        <animate attributeName="width" values="0;90;0" dur="4s" begin="2s" repeatCount="indefinite"/>
      </rect>
      <text x="170" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">+30%</text>
    </g>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
</svg>